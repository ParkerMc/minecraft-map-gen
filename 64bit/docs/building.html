

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Building the Overviewer from Source &mdash; Overviewer 0.11 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.11',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Overviewer 0.11 documentation" href="index.html" />
    <link rel="next" title="Running the Overviewer" href="running.html" />
    <link rel="prev" title="Installing" href="installing.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="running.html" title="Running the Overviewer"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="installing.html" title="Installing"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Overviewer 0.11 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="building-the-overviewer-from-source">
<h1>Building the Overviewer from Source<a class="headerlink" href="#building-the-overviewer-from-source" title="Permalink to this headline">¶</a></h1>
<p>These instructions are for building the C extension for Overviewer. Once you
have finished with these instructions, head to <a class="reference internal" href="running.html"><em>Running the Overviewer</em></a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Pre-built Windows and Debian executables are available on the
<a class="reference internal" href="installing.html"><em>Installing</em></a> page.  These kits already contain the compiled code and
require no further setup, so you can skip to the next section of the docs:
<a class="reference internal" href="running.html"><em>Running the Overviewer</em></a>.</p>
</div>
<div class="section" id="get-the-source">
<h2>Get The Source<a class="headerlink" href="#get-the-source" title="Permalink to this headline">¶</a></h2>
<p>First step: download the platform-independent source! Either clone with Git
(recommended if you know Git) or download the most recent snapshot</p>
<ul class="simple">
<li>Git URL to clone: <tt class="docutils literal"><span class="pre">git://github.com/overviewer/Minecraft-Overviewer.git</span></tt></li>
<li><a class="reference external" href="https://github.com/overviewer/Minecraft-Overviewer/tarball/master">Download most recent tar archive</a></li>
<li><a class="reference external" href="https://github.com/overviewer/Minecraft-Overviewer/zipball/master">Download most recent zip archive</a></li>
</ul>
<p>Once you have the source, see below for instructions on building for your
system.</p>
</div>
<div class="section" id="build-instructions-for-various-operating-systems">
<h2>Build Instructions For Various Operating Systems<a class="headerlink" href="#build-instructions-for-various-operating-systems" title="Permalink to this headline">¶</a></h2>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#windows-build-instructions" id="id1">Windows Build Instructions</a><ul>
<li><a class="reference internal" href="#prerequisites" id="id2">Prerequisites</a></li>
<li><a class="reference internal" href="#building-with-visual-studio" id="id3">Building with Visual Studio</a></li>
<li><a class="reference internal" href="#building-with-mingw" id="id4">Building with mingw</a></li>
</ul>
</li>
<li><a class="reference internal" href="#linux" id="id5">Linux</a></li>
<li><a class="reference internal" href="#osx" id="id6">OSX</a></li>
<li><a class="reference internal" href="#freebsd" id="id7">FreeBSD</a></li>
<li><a class="reference internal" href="#centos-5" id="id8">CentOS 5</a></li>
</ul>
</div>
<div class="section" id="windows-build-instructions">
<h3><a class="toc-backref" href="#id1">Windows Build Instructions</a><a class="headerlink" href="#windows-build-instructions" title="Permalink to this headline">¶</a></h3>
<p>First, you&#8217;ll need a compiler.  You can either use Visual Studio, or
cygwin/mingw. The free <a class="reference external" href="http://www.microsoft.com/express/Windows/">Visual Studio Express</a> is okay. You will want the C++
version (Microsoft® Visual C++® 2010 Express).  Note that the Express version of
Visual Studio will only build 32-bit executables.  We currently don&#8217;t have a
recommended way of building Overviewer on 64-bit Windows using free tools.  If you
have bought a copy of Visual Studio, you can use it for 64-bit builds.</p>
<div class="section" id="prerequisites">
<h4><a class="toc-backref" href="#id2">Prerequisites</a><a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h4>
<p>You will need a copy of the <a class="reference external" href="http://www.pythonware.com/products/pil/">PIL sources</a>.</p>
</div>
<div class="section" id="building-with-visual-studio">
<h4><a class="toc-backref" href="#id3">Building with Visual Studio</a><a class="headerlink" href="#building-with-visual-studio" title="Permalink to this headline">¶</a></h4>
<ol class="arabic">
<li><p class="first">Get the latest Overviewer source code as per above.</p>
</li>
<li><p class="first">From the Start menu, navigate to the &#8216;Microsoft Visual Studio 2010 Express&#8217; and open the &#8216;Visual Studio Command Prompt (2010)&#8217; shortcut.</p>
</li>
<li><p class="first">cd to the folder containing the Overviewer source code.</p>
</li>
<li><p class="first">Copy Imaging.h and ImPlatform.h from your PIL installation into the current working directory.</p>
</li>
<li><p class="first">First try a build:</p>
<div class="highlight-python"><pre>c:\python26\python setup.py build</pre>
</div>
</li>
</ol>
<p>If you encounter the following errors:</p>
<div class="highlight-python"><pre>error: Unable to find vcvarsall.bat</pre>
</div>
<p>then try the following:</p>
<div class="highlight-python"><pre>set DISTUTILS_USE_SDK=1
set MSSdk=1
c:\python26\python setup.py build</pre>
</div>
<p>If the build was successful, there should be a c_overviewer.pyd file in your current working directory.</p>
</div>
<div class="section" id="building-with-mingw">
<h4><a class="toc-backref" href="#id4">Building with mingw</a><a class="headerlink" href="#building-with-mingw" title="Permalink to this headline">¶</a></h4>
<ol class="arabic">
<li><p class="first">Open a MinGW shell.</p>
</li>
<li><p class="first">cd to the Overviewer directory.</p>
</li>
<li><p class="first">Copy Imaging.h and ImPlatform.h from your PIL installation into the current working directory.</p>
</li>
<li><p class="first">Build:</p>
<div class="highlight-python"><pre>python setup.py build --compiler=mingw32</pre>
</div>
</li>
</ol>
<p>If the build fails with complaints about <tt class="docutils literal"><span class="pre">-mno-cygwin</span></tt>, open the file <tt class="docutils literal"><span class="pre">Lib/distutils/cygwincompiler.py</span></tt>
in an editor of your choice, and remove all mentions of <tt class="docutils literal"><span class="pre">-mno-cygwin</span></tt>. This is a bug in distutils,
filed as <a class="reference external" href="http://bugs.python.org/issue12641">Issue 12641</a>.</p>
</div>
</div>
<div class="section" id="linux">
<h3><a class="toc-backref" href="#id5">Linux</a><a class="headerlink" href="#linux" title="Permalink to this headline">¶</a></h3>
<p>You will need the gcc compiler and a working build environment. On Ubuntu and
Debian, this can be done by installing the <tt class="docutils literal"><span class="pre">build-essential</span></tt> package. For
CentOS machines, see the <a class="reference internal" href="#centos"><em>CentOS 5</em></a> section below</p>
<p>You will need the following packages (at least):</p>
<ul class="simple">
<li>python-imaging (for PIL)</li>
<li>python-dev</li>
<li>python-numpy</li>
</ul>
<p>Then to build:</p>
<div class="highlight-python"><pre>python setup.py build</pre>
</div>
</div>
<div class="section" id="osx">
<h3><a class="toc-backref" href="#id6">OSX</a><a class="headerlink" href="#osx" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You will need to have XCode and the XCode Command Line Tools installed (the
Command Line Tools can be installed by going to the Downloads tab under the
Xcode Preferences dialog).</p>
</div>
<ol class="arabic">
<li><p class="first">Download the source code for PIL from <a class="reference external" href="http://www.pythonware.com/products/pil/">http://www.pythonware.com/products/pil/</a></p>
</li>
<li><p class="first">Compile the PIL code (<tt class="docutils literal"><span class="pre">python</span> <span class="pre">./setup.py</span> <span class="pre">build</span></tt>)</p>
</li>
<li><p class="first">Install PIL (<tt class="docutils literal"><span class="pre">sudo</span> <span class="pre">python</span> <span class="pre">./setup.py</span> <span class="pre">install</span></tt>)</p>
</li>
<li><p class="first">Find the path to the <tt class="docutils literal"><span class="pre">libImaging</span></tt> directory in the PIL source tree.</p>
</li>
<li><p class="first">Build Minecraft Overviewer with the path from step 4 as the value for PIL_INCLUDE_DIR:</p>
<div class="highlight-python"><pre>PIL_INCLUDE_DIR="path from step 4" python ./setup.py build</pre>
</div>
</li>
</ol>
<p>The following script (copied into your MCO source directory) should handle everything for you:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="c">#!/bin/bash</span>

<span class="c"># start with a clean place to work</span>
python ./setup.py clean

<span class="c"># get PIL</span>
<span class="k">if</span> <span class="o">[</span> ! -d <span class="s2">&quot;`pwd`/Imaging-1.1.7/libImaging&quot;</span> <span class="o">]</span>; <span class="k">then</span>
    /usr/bin/curl -o imaging.tgz http://effbot.org/media/downloads/Imaging-1.1.7.tar.gz
    tar xzf imaging.tgz
    rm imaging.tgz
<span class="k">fi</span>

<span class="c"># build MCO</span>
<span class="nv">PIL_INCLUDE_DIR</span><span class="o">=</span><span class="s2">&quot;`pwd`/Imaging-1.1.7/libImaging&quot;</span> python ./setup.py build
</pre></div>
</div>
</div>
<div class="section" id="freebsd">
<h3><a class="toc-backref" href="#id7">FreeBSD</a><a class="headerlink" href="#freebsd" title="Permalink to this headline">¶</a></h3>
<p>FreeBSD is similar to OSX and Linux, but ensure you&#8217;re using Python 2.7. The port of Python 2.6 has bugs with threading under FreeBSD.
Everything else you should need is ported, in particular math/py-numpy and graphics/py-imaging.</p>
<p>You may need or want to add the line:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">PYTHON_VERSION</span><span class="o">=</span><span class="mf">2.7</span>
</pre></div>
</div>
<p>to the file /etc/make.conf, but read the ports documentation to be sure of what this might do to other Python applications on your system.</p>
</div>
<div class="section" id="centos-5">
<span id="centos"></span><h3><a class="toc-backref" href="#id8">CentOS 5</a><a class="headerlink" href="#centos-5" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you are using CentOS 6, you do not need to install the epel repo.
CentOS 6 should come with the right python version, you can check
your version running <em>python &#8211;version</em>.</p>
</div>
<p>Since CentOS has an older version of Python (2.4), there are some difficulties
in getting the Overviewer to work. Follow these steps which have been reported
to work.</p>
<p>Note: commands prefixed with a &#8220;#&#8221; mean to run as root, and &#8220;$&#8221; mean to run as a
regular user.</p>
<ol class="arabic simple">
<li>Install the <a class="reference external" href="http://fedoraproject.org/wiki/EPEL">EPEL repo</a>. Go to step #2 if you already have the EPEL repo installed.</li>
</ol>
<blockquote>
<div><ol class="arabic simple">
<li><tt class="docutils literal"><span class="pre">$</span> <span class="pre">wget</span> <span class="pre">http://download.fedoraproject.org/pub/epel/5/i386/epel-release-5-4.noarch.rpm</span></tt></li>
<li><tt class="docutils literal"><span class="pre">#</span> <span class="pre">rpm</span> <span class="pre">-Uhv</span> <span class="pre">epel-release-5-4.noarch.rpm</span></tt></li>
</ol>
</div></blockquote>
<ol class="arabic simple" start="2">
<li>Install the python26 packages and build dependancies</li>
</ol>
<blockquote>
<div><ol class="arabic simple">
<li><tt class="docutils literal"><span class="pre">#</span> <span class="pre">yum</span> <span class="pre">install</span> <span class="pre">-y</span> <span class="pre">python26{,-imaging,-numpy}{,-devel}</span> <span class="pre">gcc</span></tt></li>
</ol>
</div></blockquote>
<ol class="arabic simple" start="3">
<li>Install and setup Overviewer</li>
</ol>
<blockquote>
<div><ol class="arabic simple">
<li><tt class="docutils literal"><span class="pre">$</span> <span class="pre">git</span> <span class="pre">clone</span> <span class="pre">git://github.com/overviewer/Minecraft-Overviewer.git</span></tt></li>
<li><tt class="docutils literal"><span class="pre">$</span> <span class="pre">cd</span> <span class="pre">Minecraft-Overviewer</span></tt></li>
<li><tt class="docutils literal"><span class="pre">$</span> <span class="pre">python26</span> <span class="pre">setup.py</span> <span class="pre">build</span></tt></li>
<li>Change the first line of overviewer.py from <tt class="docutils literal"><span class="pre">#!/usr/bin/env</span> <span class="pre">python</span></tt> to <tt class="docutils literal"><span class="pre">#!/usr/bin/env</span> <span class="pre">python26</span></tt> so that the Python 2.6 interpreter is used instead of the default 2.4</li>
</ol>
</div></blockquote>
<ol class="arabic simple" start="4">
<li>Run Overviewer as usual</li>
</ol>
<blockquote>
<div><ol class="arabic simple">
<li><tt class="docutils literal"><span class="pre">$</span> <span class="pre">./overviewer.py</span> <span class="pre">path/to/world/</span> <span class="pre">path/to/output/</span></tt> or <tt class="docutils literal"><span class="pre">$</span> <span class="pre">python26</span> <span class="pre">path/to/overviewer.py</span> <span class="pre">path/to/world/</span> <span class="pre">path/to/output/</span></tt></li>
<li>Proceed to the <a class="reference internal" href="running.html"><em>Running</em></a> instructions for more info.</li>
</ol>
</div></blockquote>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Building the Overviewer from Source</a><ul>
<li><a class="reference internal" href="#get-the-source">Get The Source</a></li>
<li><a class="reference internal" href="#build-instructions-for-various-operating-systems">Build Instructions For Various Operating Systems</a><ul>
<li><a class="reference internal" href="#windows-build-instructions">Windows Build Instructions</a><ul>
<li><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li><a class="reference internal" href="#building-with-visual-studio">Building with Visual Studio</a></li>
<li><a class="reference internal" href="#building-with-mingw">Building with mingw</a></li>
</ul>
</li>
<li><a class="reference internal" href="#linux">Linux</a></li>
<li><a class="reference internal" href="#osx">OSX</a></li>
<li><a class="reference internal" href="#freebsd">FreeBSD</a></li>
<li><a class="reference internal" href="#centos-5">CentOS 5</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="installing.html"
                        title="previous chapter">Installing</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="running.html"
                        title="next chapter">Running the Overviewer</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/building.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="running.html" title="Running the Overviewer"
             >next</a> |</li>
        <li class="right" >
          <a href="installing.html" title="Installing"
             >previous</a> |</li>
        <li><a href="index.html">Overviewer 0.11 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010-2014 The Overviewer Team.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>